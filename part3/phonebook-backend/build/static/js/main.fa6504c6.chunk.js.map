{"version":3,"sources":["hooks/useFields.js","componants/Filter.js","componants/Form.js","componants/Persons.js","componants/Notification.js","services/data.js","hooks/useData.js","App.js","reportWebVitals.js","index.js"],"names":["useField","type","useState","value","setValue","handleChange","target","reset","onChange","Filter","setFilter","filterField","updateField","event","Form","notify","submit","resetName","nameField","resetNumber","numberField","onSubmit","preventDefault","name","number","message","Person","id","deletePerson","onClick","window","confirm","Persons","persons","map","person","Notification","props","visible","setVisible","useEffect","setTimeout","className","url","getAll","axios","get","addOne","a","method","data","headers","contentType","response","updateOne","deleteOne","useData","setData","filter","error","setError","personService","then","addAll","catch","pattern","RegExp","item","test","replace","newPerson","array","addPerson","find","v4","p","App","notification","setNotification","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.fa6504c6.chunk.js","sourcesContent":["import { useState } from 'react'\r\n\r\nconst useField = (type = 'text') => {\r\n    const [ value , setValue ] = useState(\"\")\r\n  \r\n    const handleChange = ({target}) => setValue(target.value)\r\n    const reset = () => setValue(\"\")\r\n    return { type , value , onChange : handleChange ,reset}\r\n  }\r\n\r\n  export default useField","import React from \"react\";\r\nimport useField from \"../hooks/useFields\";\r\n\r\nconst Filter = ({ setFilter }) => {\r\n  const {reset , ...filterField} = useField();\r\n  const updateField = {\r\n    ...filterField,\r\n    onChange: (event) => {\r\n      filterField.onChange(event);\r\n      setFilter(event.target.value);\r\n    },\r\n  };\r\n  return (\r\n    <div>\r\n      filter shown with: <input {...updateField} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Filter;\r\n","import React  from \"react\";\r\nimport useField from \"../hooks/useFields\";\r\n\r\nconst Form = ({notify , submit }) => {\r\n  const {reset : resetName , ...nameField }= useField();\r\n  const {reset : resetNumber , ...numberField} = useField();\r\n \r\n  const reset = () => {\r\n    resetName()\r\n    resetNumber()\r\n  }\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    submit({ name: nameField.value, number: numberField.value });\r\n    notify({type:\"success\",message:`Added ${nameField.value}`})\r\n    reset()\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      <label>\r\n        name\r\n        <input {...nameField} />\r\n      </label>\r\n      <label>\r\n        number\r\n        <input {...numberField} />\r\n      </label>\r\n      <input type=\"submit\" value=\"add\" />\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default Form;\r\n","import React from \"react\";\r\nconst Persons = ({ notify ,deletePerson, persons }) => (\r\n  <div>\r\n    {persons.map((person) => (\r\n      <Person notify={notify} key={person.id} {...person} deletePerson={deletePerson} />\r\n    ))}\r\n  </div>\r\n);\r\n\r\nconst Person = ({ notify , id, name, number, deletePerson }) => (\r\n  <div key={id}>\r\n    {name} {number}\r\n    <button\r\n      onClick={() => {\r\n        if (window.confirm(`delete ${name} ?`)) {\r\n         \r\n          deletePerson(id);\r\n        }\r\n      }}\r\n    >\r\n      delete\r\n    </button>\r\n  </div>\r\n);\r\nexport default Persons;\r\n","import React, { useEffect, useState } from \"react\";\r\nconst Notification = (props) => {\r\n    \r\n  const [visible, setVisible] = useState(props.visible);\r\n  useEffect(() => {\r\n    setVisible(true);\r\n  }, [props.message]);\r\n\r\n  setTimeout(() => setVisible(false), 2000);\r\n  if (!visible) return null;\r\n  return (\r\n    visible && (\r\n      <div className={`notification ${props.type }`}>\r\n        {props.message}\r\n      </div>\r\n    )\r\n  );\r\n};\r\nexport default Notification;\r\n","import axios from 'axios'\r\n\r\n \r\nconst url = `/api/persons`\r\n\r\nconst getAll =   () =>  axios.get(url)\r\n\r\nconst addOne = async  (person) => {\r\n\r\nconst response  = await axios({\r\n    url,\r\n    method: 'post',\r\n    data : person ,\r\n    headers:{\r\n        contentType : \"application/json\"\r\n    }\r\n})\r\n\r\nreturn response\r\n\r\n}\r\n\r\nconst updateOne = async (id, person)=> {\r\n  const response =  await  axios({\r\n        url : `${url}/${id}`,\r\n        method:'put',\r\n        data: person\r\n    })\r\n\r\n  return response\r\n}\r\n\r\nconst deleteOne = id => axios({\r\n    url :`${url}/${id}`,\r\n    method: \"delete\",\r\n    \r\n})\r\n\r\nexport { getAll , addOne ,deleteOne , updateOne}\r\n","import { useEffect, useState } from \"react\";\r\nimport * as personService from \"../services/data\";\r\nimport { v4 } from \"uuid\";\r\n\r\nconst useData = (initialize = []) => {\r\n  const [data, setData] = useState([]);\r\n  const [filter, setFilter] = useState(\"\");\r\n  const [error, setError] = useState(false);\r\n\r\n  useEffect(() => {\r\n    personService\r\n      .getAll()\r\n      .then(({ data }) => {\r\n        addAll(data);\r\n      })\r\n      .catch((error) => setError(error.message));\r\n  }, []);\r\n\r\n  let persons = data;\r\n\r\n  if (filter) {\r\n    const pattern = RegExp(filter, \"i\");\r\n    persons = data.filter((item) => pattern.test(item.name));\r\n  } else {\r\n    persons = data;\r\n  }\r\n\r\n  const replace = (id, newPerson) => {\r\n    setData((data) =>\r\n      data.map((person) => (person.id === id ? newPerson : person))\r\n    );\r\n    personService.updateOne(id, newPerson);\r\n  };\r\n\r\n  const addAll = (array) => setData((data) => [...data, ...array]);\r\n\r\n  const addPerson = async ({ name, number }) => {\r\n    if (data.find((person) => person.name === name)) {\r\n      if (\r\n        window.confirm(\r\n          `${name} is already added to the phonebook, replace the old number with the new one ?`\r\n        )\r\n      ) {\r\n        const person = data.find((person) => person.name === name);\r\n        replace(person.id, { ...person, number });\r\n      }\r\n    } else {\r\n      const response = await personService.addOne({\r\n        name,\r\n        number,\r\n        id: v4(),\r\n      });\r\n      setData((data) => [...data, response.data]);\r\n    }\r\n  };\r\n\r\n  const deletePerson = (id) => {\r\n    const person = data.find(p =>p.id === id)\r\n    personService\r\n      .deleteOne(id)\r\n      .catch((error) => setError(`${person.name} has already been removed from server`));\r\n      setData(data.filter((person) => person.id !== id))\r\n  };\r\n\r\n  return { error, persons, addPerson, setFilter, deletePerson };\r\n};\r\n\r\nexport default useData;\r\n","import React, { useEffect, useState }  from \"react\";\nimport './App.css'\n\n\nimport Filter from \"./componants/Filter\";\nimport Form from \"./componants/Form\";\nimport Persons from \"./componants/Persons\";\nimport Notification from './componants/Notification'\nimport useData from \"./hooks/useData\";\n\nconst App = () => {\n  \n  const { error, persons, addPerson, setFilter, deletePerson  } = useData();\n  const [notification  , setNotification ] = useState(false)\n  \n  \n  const notify = ({type , message}) => {\n    setNotification({type, message})\n  }\n  useEffect(() => {\n\n   if (error){\n     notify({type:\"danger\" , message : error})}\n\n  },[error])\n  \n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification   type={notification.type} message={notification.message} />\n      \n      <Filter setFilter={setFilter}>test</Filter>\n      <h2>add a new</h2>\n      <Form  notify={notify} submit={addPerson} />\n      <h2>Numbers</h2>\n      {error && <div>{error}</div>}\n      <Persons notify={notify} deletePerson={deletePerson} persons={persons} />\n    </div>\n  );\n};\n\nexport default App;\n ","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}